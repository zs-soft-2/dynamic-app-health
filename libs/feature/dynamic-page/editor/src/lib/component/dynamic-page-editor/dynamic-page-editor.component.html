<div class="content" *ngIf="dynamicPageEditorParams$$ | async as params">
	<div ngClass="col editor">
		<dh-dynamic-layout-view
			[layoutItems]="params.dynamicPageView.layout.layoutItems"
			(editItem)="editItemHandler($event)"
			(removeItem)="removeItemHandler($event)"
		></dh-dynamic-layout-view>
	</div>

	<div ngClass="col form">
		<div class="components">
			<form [formGroup]="params.formGroup">
				<input name="id" formControlName="id" hidden />
				<span class="p-float-label">
					<input
						id="label"
						type="text"
						pInputText
						formControlName="label"
					/>
					<label for="label">Label</label>
				</span>

				<span class="p-float-label">
					<input
						id="path"
						type="text"
						pInputText
						formControlName="path"
					/>
					<label for="path">Path</label>
				</span>

				<div class="field">
					<label class="label">Components</label>

					<div
						*ngFor="let component of params.components"
						class="border"
					>
						<span>
							{{ component.name }}
						</span>

						<span>
							<button
								pButton
								(click)="addClickHandler(component.name)"
								type="button"
								class="p-button-raised p-button-rounded add"
								icon="pi pi-plus"
							></button>
						</span>
					</div>
				</div>
			</form>

			<div
				style="margin-top: 10px"
				fxLayout="row"
				fxLayoutAlign="space-around"
			>
				<button
					pButton
					type="button"
					label="Submit"
					(click)="submit()"
				></button>

				<button
					pButton
					type="button"
					label="Cancel"
					(click)="cancel()"
				></button>
			</div>
		</div>
	</div>
</div>
